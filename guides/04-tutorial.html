<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Tutorial</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link href="/css/tops.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-inverse tops-navbar">
      <div class="first_page container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/index.html">MYOP</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="/download.html">Download</a></li>
            <li><a href="/documentation.html">Documentation</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/myopdev/myop"><span class="glyphicon fa fa-github-alt" aria-hidden="true"></span></a></li>
            <li><a href="/index.html#contact"><span class="glyphicon fa fa-envelope-o" aria-hidden="true"></span></a></li>
          </ul>

        </div><!-- /.navbar-collapse -->
      </div><!-- /.first_page container-fluid -->
    </nav>

    <div class="wrapper">
    <div class="container tops-doc-body">
  <div class="row">
    <div class="col-md-3 tops-doc">
      <h1>User Guide</h1>
      <ol>
        
        <li><a href="/guides/01-setup.html">Setup</a></li>
        
        <li><a href="/guides/02-prediction.html">Prediction</a></li>
        
        <li><a href="/guides/03-training.html">Training</a></li>
        
        <li><a href="/guides/04-tutorial.html">Tutorial</a></li>
        
        <li><a href="/guides/05-pre-trained-models.html">Pre-Trained Models</a></li>
        
        <li><a href="/guides/06-accuracy.html">Accuracy</a></li>
        
      </ol>
    </div>
    <div class="col-md-9 tops-page">

      <h1 id="tutorial">Tutorial</h1>

<p>During this tutorial you will train a new gene predictor using the <em>A. thaliana</em> genome and make some predictions. It is also a good way to verify if you installed MYOP properly on your system.</p>

<blockquote>
  <p>This tutorial supposes that you are using OS X or Ubuntu Linux.</p>
</blockquote>

<p>Before we start, download <a href="https://www.dropbox.com/s/7n8t9gbkvh5b5ks/A.thaliana.zip?dl=1"><em>A.thaliana</em></a> genome. You can download it directly from your terminal:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ curl -L -o A.thaliana.zip https://www.dropbox.com/s/7n8t9gbkvh5b5ks/A.thaliana.zip?dl=1
</code></pre>
</div>

<p>After that, extract it:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ unzip A.thaliana.zip
</code></pre>
</div>

<p>It will generate the <code class="highlighter-rouge">A.thaliana</code> directory which contains 2 files:</p>

<ul>
  <li><code class="highlighter-rouge">train.fa</code>, a multi-FASTA file which contains the genomic sequences</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$ head A.thaliana/train.fa
&gt;AT2G01190
TACATTTACATACAAGTCGTGGACTAACAGCTATACTACTACTAAGTACTAACTCTTTCTCTCTCTAAATATCAAATTCAATTTAATTTTTCTTCTGCAA
ATGGAACCACCGCCTTCTTCTCTGTCCTCCACCGCGGTGGCTTCCACCTCCATCTCCGCCGCCACTGCTCCTGTTCCTCCTCCTCTACCTCCTCACGTGA
CTTCTTCTTACCCCGAATCTCTCGACTCCTCCCCTCGTTCTCGCACCACCGATGGCTGGGATGACCTTCCTGCTCCTTCTGGCGGCGGCGGTGGCGGTGG
TGGTAGCGCCGTCTCTTCTAAACTTCGTTTTATGTGTAGCTACGGCGGTCATATCCTTCCTCGCCCTCACGATAAGTCTCTCTGCTACATGGGCGGTGAC
ACTCGCATCGTTGTCGTCGACCGTAACTCCTCTCTCCCTTCTCTCATCGCTCGTCTCTCCAACACGCTTCTCGACGGTCGTTCCTTCACCCTCAAGTACC
AGTTACCTAGCGAAGACCTTGACTCTCTCATCTCCGTCACTACCGACGAAGATCTCGACAACATGATCGAAGAGTATGACCGTACCATTTCCGCTTCCAA
TTCCACCAAACCTTCGCGTCTCCGGTTGTTTCTATTCACCTCCAAGCCTGAGGCTACTCAATCTATGGGTCAGATCCTTGAGAGCTCTGCCAAGAGCGAC
GATTGGTTCCTCAACGCACTCAATAGCGCCGGTCTTCTCAATCGAGGATTCTCAGATTCTGATACTAACGTCAATCGTTTACTTGGTTTGGATGATGCTC
TTGCTCTCCGTTCTAATTCCGGTGACAACAACAATCGAGATGGTGATGATGGCTCTGTTAAAAGCGCCAAGCAACAGCAACCTCCACCGCCGCAGCAGCA
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">train.gtf</code>, a GTF file which describe all the CDSâ€™s of each gene and the positon of the start and stop codons.</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>$ head A.thaliana/train.gtf
AT2G01190 NCBI_Chr2.tbl start_codon 101 103 0 + . gene_id "AT2G01190"; transcript_id "AT2G01190.1";
AT2G01190 NCBI_Chr2.tbl CDS 101 1401  0 + 0 gene_id "AT2G01190"; transcript_id "AT2G01190.1";
AT2G01190 NCBI_Chr2.tbl CDS 1513  2371  0 + 1 gene_id "AT2G01190"; transcript_id "AT2G01190.1";
AT2G01190 NCBI_Chr2.tbl stop_codon  2372  2374  0 + . gene_id "AT2G01190"; transcript_id "AT2G01190.1";

AT3G45673 NCBI_Chr3.tbl stop_codon  101 103 0 - . gene_id "AT3G45673"; transcript_id "AT3G45673.1";
AT3G45673 NCBI_Chr3.tbl CDS 104 283 0 - 0 gene_id "AT3G45673"; transcript_id "AT3G45673.1";
AT3G45673 NCBI_Chr3.tbl start_codon 281 283 0 - . gene_id "AT3G45673"; transcript_id "AT3G45673.1";

AT3G49305 NCBI_Chr3.tbl stop_codon  101 103 0 - . gene_id "AT3G49305"; transcript_id "AT3G49305.1";
</code></pre>
</div>

<p>Download also a test sequence named <a href="https://www.dropbox.com/s/sup70xkwx3whhva/seq.fa?dl=1">seq.fa</a> file:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ curl -L -o seq.fa https://www.dropbox.com/s/sup70xkwx3whhva/seq.fa?dl=1
</code></pre>
</div>

<p>You will use it to test your trained model.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat seq.fa
&gt;AT1G34280
ATAATAACTTGGAGAAATTGATTCTACGTAATGTAGAGGAAGAATAGACACATGATTTTCATAGTTATAATTATCCCATGTGCTTATATTCAAACCTTGA
TCACCACCAAACCCACCCTGACTGATCCAAGACCAACAGACCATCCAAAGTCAATCCACCACCAATAGGCCCTCCACTAGTAGATCCACCAACAACAAAT
GCTTTACCTAAAGACTTATTACCACCATTTCCAGAAACATCAGATTTTACATATTCACTTCCACTATTGATGCCAGTTACTCGTAAGTTGATCATATCAC
AAGGATTCATATATTTATGAACACCGGATAACCGCTCCATTTATCGAATTTTATTCTCCTCACTTCGTAACTTTATAAATCCGTCACAAATATCTTCATC
GTTCATTAGCAACTTGTTTGCTTCCCATCAAAATATATTC
&gt;AT2G13273
AGGGTAGCTCAAATAAAGTGAAATCTCATAAGACGAAGCTGAAGGCAGCTCAAACACACATAAGAGAGAAAGATCAAGATGTGAGTTAAGGAGAGATCTC
ATGAGAGTCGAGAGAGACCTCACGAGATATGACATGAGAGTCGAGAGAGATCTCATGTGTAATTGCTTAGGGGTAGCTAATTTCTATATGAGAAGAGTCT
ATGGAGTGTTGTTCCATAAGACATAAGTAAAAGGCTTTGGAGAGATGTTCCAAAGACCTAAGTTCTTGAGAGAGAGATTTAGTTTTGAGTAGTTTCTAAA
TATATAATAAAGAAATGTCGTTCTTT
&gt;AT1G52720
TATAAATTTGACCCTAAAATCTATCTCATTCTCTCATCAATCTTCTTCCTTTAAATCCCTAAATCTTCACGTTACTTTTCTATCTACATTTTCACTTTCA
ATGGCTTTGATTATCACCTGCTCCGCTCTACCCACGATCCGAGCATCTTCCGGATCCGGATCCCTTAACCCGGATCAAAACCGTAAGAAATCTGCTGCTT
GGTGGGCTCCTCTCTTCGGTTTACCCTCCGATCCAGATTACCTCAACATCGAAAGCTCATGCTCCACCGTGAATCCGGATAAAACCGATATTTCCGGGTC
GGGTCAAAAGTTTCGTCGCGGTTGTTTTACGGAGGAGAAAGCTAAGCAGTTGAGGAGGAAAACCGCAGAAGCTTCCACGTTCCATGACGTAATGTATCAC
TCCGCCATTGCTTCTCGACTTGCGTCTGATATCACCGGCCGAGTCGAGGATTGAAACGGATTCGGGTCAGATCTGGAGACGAATCAATTAATGAATAATT
AATCTTTTTTTTCTTAATTCAGTGTTCTTGTAGGATGCAGACCATCTTCTATCG
</code></pre>
</div>

<h2 id="training">Training</h2>

<p>To train a new <em>A.thaliana</em> model, execute (it may take several minutes):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-train -g A.thaliana/train.gtf -f A.thaliana/train.fa -o New_A.thaliana -c 4
</code></pre>
</div>

<p>It receives the genomic sequences (<code class="highlighter-rouge">A.thaliana/train.fa</code>) and the genes descriptions (<code class="highlighter-rouge">A.thaliana/train.gtf</code>) and generates a directory named <code class="highlighter-rouge">New_A.thaliana</code> with the complete description of the model.</p>

<p>If you want to know more about training, check <a href="/guides/04-training.html">this link</a>.</p>

<h2 id="prediction">Prediction</h2>

<p>To predict genes on the test sequence <code class="highlighter-rouge">seq.fa</code> using the trained model, run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-predict -l ./New_A.thaliana -f seq.fa
AT1G34280 segment gene  1 440 . . s1
AT2G13273 segment gene  1 326 . . s2
AT1G52720 segment gene  1 554 . . s3

AT1G34280 myop  stop_codon  101 103 . - 0 gene_id "myop.1"; transcript_id "myop.1";
AT1G34280 myop  CDS 104 340 . - 0 gene_id "myop.1"; transcript_id "myop.1";
AT1G34280 myop  start_codon 338 340 . - 0 gene_id "myop.1"; transcript_id "myop.1";

AT1G52720 myop  start_codon 101 103 . + 0 gene_id "myop.2"; transcript_id "myop.2";
AT1G52720 myop  CDS 101 451 . + 0 gene_id "myop.2"; transcript_id "myop.2";
AT1G52720 myop  stop_codon  452 454 . + 0 gene_id "myop.2"; transcript_id "myop.2";
</code></pre>
</div>

<p><code class="highlighter-rouge">myop-predict</code> prints the GTF file on the standard output. If you want to put it in a file, just do:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-predict -l ./New_A.thaliana -f seq.fa &gt; seq.gtf
</code></pre>
</div>

<h2 id="install-the-model">Install the Model</h2>

<p>You can add the new model to your MYOP installation. To do this you should use the command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-add-genome New_A.thaliana
</code></pre>
</div>

<blockquote>
  <p><strong>Ubuntu</strong> users need <code class="highlighter-rouge">sudo</code> to run <code class="highlighter-rouge">myop-add-genome</code></p>
</blockquote>

<p>With this you can run predicitons with MYOP by just using the name you created for your model.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-predict -g New_A.thaliana -f seq.fa
AT1G34280 segment gene  1 440 . . s1
AT2G13273 segment gene  1 326 . . s2
AT1G52720 segment gene  1 554 . . s3

AT1G34280 myop  stop_codon  101 103 . - 0 gene_id "myop.1"; transcript_id "myop.1";
AT1G34280 myop  CDS 104 340 . - 0 gene_id "myop.1"; transcript_id "myop.1";
AT1G34280 myop  start_codon 338 340 . - 0 gene_id "myop.1"; transcript_id "myop.1";

AT1G52720 myop  start_codon 101 103 . + 0 gene_id "myop.2"; transcript_id "myop.2";
AT1G52720 myop  CDS 101 451 . + 0 gene_id "myop.2"; transcript_id "myop.2";
AT1G52720 myop  stop_codon  452 454 . + 0 gene_id "myop.2"; transcript_id "myop.2";
</code></pre>
</div>

<h2 id="uninstall-the-model">Uninstall the Model</h2>

<p>If you want to remove this test predictor, run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ myop-rm-genome New_A.thaliana
</code></pre>
</div>

<blockquote>
  <p><strong>Ubuntu</strong> users need <code class="highlighter-rouge">sudo</code> to run <code class="highlighter-rouge">myop-rm-genome</code></p>
</blockquote>


      <p class="text-center">
        
          <a href="/guides/03-training.html">prev</a>
        
        |
        
          <a href="/guides/05-pre-trained-models.html">next</a>
        
      </p>
    </div>
  </div>
</div>

    </div>

    <div class="tops-footer">
      <div class="first_page container">
        <p class="text-center">Copyright 2016 MYOP</p>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
  </body>
</html>